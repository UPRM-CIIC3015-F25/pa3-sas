# Task 5.2 (GameState.py)

owned = set(self.playerJokers)

if "The Joker" in owned:
    self.mult += 4
    self.activated_jokers.add("The Joker")
if "Micheal Myers" in owned:
    self.mult += random.randint(0, 23)
    self.activated_jokers.add("Micheal Myers")
if "Fibonacci" in owned:
    fib_ranks = {"A", "2", "3", "5", "8"}
    for card in self.current_hand:
        if card.rank in fib_ranks:
            self.mult += 8
    self.activated_jokers.add("Fibonacci")
if "Gauntlet" in owned:
    self.chips += 250
    self.hand_size -= 2
    self.activated_jokers.add("Gauntlet")
if "Ogre" in owned:
    self.mult += 3 * len(owned)
    self.activated_jokers.add("Ogre")
if "Straw Hat" in owned:
    self.chips += 100
    self.chips -= 5 * self.hands_played
    self.activated_jokers.add("Straw Hat")
if "Hog Rider" in owned:
    if self.is_straight(self.current_hand):
        self.chips += 100
    self.activated_jokers.add("Hog Rider")
if "? Block" in owned:
    if len(self.current_hand) == 4:
        self.chips += 4
    self.activated_jokers.add("? Block")
if "Hogwarts" in owned:
    for card in self.current_hand:
        if card.rank == "A":
            self.mult += 4
            self.chips += 20
    self.activated_jokers.add("Hogwarts")
if "802" in owned:
    if self.remaining_hands == 0:
        self.mult *= 2
        self.chips *= 2
    self.activated_jokers.add("802")

# Task 7 (GameState.py)

def calculate_gold_reward(self, playerInfo, stage=0):
    if stage == 0:
        blind_type = playerInfo.blind_type
        if blind_type == "Small":
            base = 4
        elif blind_type == "Big":
            base = 8
        elif blind_type == "Boss":
            base = 10
        else:
            base = 0
        return base + self.calculate_gold_reward(playerInfo, stage=1)
    score = playerInfo.score
    target = playerInfo.target_score
    if score <= target:
        return 0
    STEP_AMOUNT = 10
    if (score - target) >= STEP_AMOUNT:
        playerInfo.score -= STEP_AMOUNT
        return 1 + self.calculate_gold_reward(playerInfo, stage=1)
    return 0
